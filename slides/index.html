<!DOCTYPE html>
<html>

<head lang="en">
    <meta charset="UTF-8">
    <title>JWorks - ReactJS workshop</title>
    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/ordina.css" id="theme">
    <link rel="stylesheet" href="css/custom.css">
    <link rel="stylesheet" href="css/tomorrow.css">

    <!-- Printing and PDF exports -->
    <script>
        var link = document.createElement('link');
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = window.location.search.match(/print-pdf/gi) ? 'css/print/pdf.css' : 'css/print/paper.css';
        document.getElementsByTagName('head')[0].appendChild(link);
    </script>

    <script src="js/head.min.js"></script>
    <!--Add support for earlier versions of Internet Explorer -->
    <!--[if lt IE 9]>
    <script src="js/html5shiv.js"></script>
    <![endif]-->
</head>

<body>
<div class="reveal">
    <div class="slides">
        <section>
            <h1>ReactJS</h1>
            <!--<h3>The start of all our presentations</h3>-->
            <img src="img/jworks-logo.png" style="vertical-align: bottom;" width="22.5%"/>
        </section>

        <section>
            <h2>Hi, we are Simon and Ivar.</h2>
            <p>
                Developer<br/>
                Ordina Belgium<br/>
                https://github.com/ivarvh<br/>
                https://github.com/sjbuysse
            </p>
        </section>

        <section>
            <h2>Agenda</h2>
            <ul>
                <li>What is ReactJS?</li>
                <li>The basics</li>
                <li>Examples</li>
                <li>Get your hands dirty</li>
                <li>Forms & good practices</li>
                <li>Get dirty again</li>
            </ul>
        </section>

        <section>
            <h2>What is ReactJS</h2>
            <ul>
                <li>Library (not framework)</li>
                <li>UI rendering engine</li>
                <li>Pair with other technologies</li>
                <li>Facebook (BSD licence -> MIT)</li>
            </ul>
            <blockquote data-trim data-noescape>It lets you compose complex UIs from small and isolated pieces of code
                called “components”.
            </blockquote>
            <aside  class="notes">
                Before that, Facebook was using their own custom “BSD+Patents” license. This was similar to the widely-used BSD license,
                but also included a clause that basically said: “you can’t sue Facebook for infringing on your patents.”
                <br /><strong>Wordpress</strong> en <strong>Apache</strong> zeiden dat ze nooit react zouden gebruiken met dat license
                <ul>
                   <li>
                       Redux om je front-end statemanagement te verbeteren,
                   </li>
                    <li>
                        React router om de navigatie te regelen.
                    </li>
                    <li>
                        Libraries voor dependency injection te verkrijgen.
                    </li>
                </ul>
                => dingen die allemaal in Angular ingebakken zijn, maar waar je dus ook meer flexibiliteit in krijgt.
            </aside>
        </section>

        <section>
            <section>
                <h2>A simple component</h2>
                <pre><code class="javascript" contenteditable>
class HelloMessage extends React.Component {
    render() {
        return (
            &lt;div&gt;
                Hello JWorks!
            &lt;/div&gt;
        );
    }
}

ReactDOM.render(
    &lt;HelloMessage /&gt;,
    document.getElementById('root')
);
                </code></pre>
                <aside class="notes">
                    Een react component maken is zeer simpel, je moet:
                    <ul>
                        <li>
                            de Component class overerven
                        </li>
                        <li>
                            een render() methode implementeren die HTML terug geeft
                        </li>
                    </ul>
                </aside>
            </section>
            <section>
                <h2>Nesting</h2>
                <pre><code class="javascript" contenteditable>
class HelloMessage extends React.Component {
    render() {
        return (
            &lt;div&gt;
                Hello JWorks!
            &lt;/div&gt;
        );
    }
}
class ByeMessage extends React.Component {
    render() {
        return (
            &lt;div&gt;
                Bye JWorks!
            &lt;/div&gt;
        );
    }
}
class Letter extends React.Component {
    render() {
        return (
            &lt;div&gt;
                &lt;HelloMessage /&gt;
                &lt;ByeMessage /&gt;
            &lt;/div&gt;
        );
    }
}
ReactDOM.render(
    &lt;Letter /&gt;,
    document.getElementById('root')
);
                </code></pre>
                <aside class="notes">
                    Je kan de component nesten en de parent aan de root node toevoegen
                </aside>
            </section>
            <section>
                <h2>Conditional rendering</h2>
                <pre><code class="javascript" contenteditable>
render() {
    const isLoggedIn = this.state.isLoggedIn;

    return {isLoggedIn
        ? &lt;LogoutButton onClick={this.handleLogoutClick} /&gt;
        : &lt;LoginButton onClick={this.handleLoginClick} /&gt;}
}
                </code></pre>
                <aside class="notes">
                    Je kan ook javascript gebruiken om je return statement op te bouwen.
                    <br />Door curly braces te gebruiken geef je aan dat je javascript aan het schrijven bent.
                    <br />Zo zie je in dit voorbeeld dat al naargelang de isLoggedIn property een verschillend statement terug
                    gegeven zal worden.
                </aside>
            </section>
            <section>
                <h2>A component with a list</h2>
                <pre><code class="javascript" contenteditable>
class ContactList extends React.Component {
    render() {
        const people = [
            { name: 'Michael' },
            { name: 'Peter' },
            { name: 'Tyler' }
        ]
        return (&lt;ul&gt;
            {people.map((person, index) =>
                (&lt;li key={person.idex}&gt;{person.name}&lt;/li&gt;
            )}
            &lt;/ul&gt;)
    }
}
ReactDom.render(
	&lt;ContactList/&gt;,
	document.getElementById('root')
)
                </code></pre>
                <aside class="notes">
                    Om een lijst te maken, kan je een array van list items terug geven.
                    Dit voorbeeld zal dus een unordered list terug geven met een list item
                    voor elke naam.
                    <br/>merk ook hier de <strong>curly braces</strong> op.
                    <strong>Het kan misschien raar lijken dat je javascript en HTML zo mengt, daarom leg ik even uit wat er onder de hood gebeurt!</strong>
                </aside>
            </section>
            <section>
                <h2>Under the hood</h2>
                <pre><code class="javascript" contenteditable>
const people = [
    { name: 'Michael' },
    { name: 'Peter' },
    { name: 'Tyler' }
]

const element = React.createElement('ol', null ,
	people.map((person, index) =>
		React.createElement('li', {key: index}, person.name);
);
                </code></pre>
                <pre><code class="javascript" contenteditable>
class ContactList extends React.Component {
    render() {
        const people = [
            { name: 'Michael' },
            { name: 'Peter' },
            { name: 'Tyler' }
        ]
        return &lt;ol&gt;
            {people.map((person, index) =>
                &lt;li key={person.idex}&gt;{person.name}&lt;/li&gt;
            )}
            &lt;/ol&gt;
    }
}
                </code></pre>
                <aside class="notes">
                    Eigenlijk zou je react kunnen schrijven zonder enige html tags erin te mengen.
                    Wat er gebeurt is dat we de <strong>createElement</strong> methode gebruiken om
                    DOM elementen te maken. Zoals je ziet is dit een beetje lastig om zo allemaal je HTML elementen te creeeren.
                    Daarom heeft men JSX gemaakt, wat eigenlijk een extensie is op JS. Zo kunnen we gewone tags zoals
                    de <strong>div-tag</strong> gebruiken ipv telkens die createElement functie aan te roepen.
                    <br />Achter de schermen wordt alles terug getranspileerd naar gewone JS.
                </aside>
            </section>
        </section>
        <section>
            <h2>Data flow</h2>
            <pre><code class="javascript" contenteditable>
const people = [
    {name: 'Michael'},
    {name: 'Peter'},
    {name: 'Tyler'}
]

ReactDom.render(
    &lt;ContactList people={people}/&gt;,
    document.getElementById('root')
)

class ContactList extends React.Component {
    render() {
        return (
            &lt;div&gt;
                &lt;ol&gt;
                    {this.props.people.map((person, index) =&gt;
                        &lt;li key={person.index}&gt;
                            {person.name}
                        &lt;/li&gt;
                    )}
                &lt;/ol&gt;
            &lt;/div&gt;
        )
    }
}
            </code></pre>
        </section>
        <section>
            <h2>Stateless Component</h2>
            <pre><code class="javascript" contenteditable>
const people = [
    {name: 'Michael'},
    {name: 'Peter'},
    {name: 'Tyler'}
]

ReactDom.render(
    &lt;ContactList people={people}/&gt;,
    document.getElementById('root')
)

const ContactList = (props) => {
        return (
            &lt;div&gt;
                &lt;ol&gt;
                    {props.people.map((person, index) =&gt;
                        &lt;li key={person.index}&gt;
                            {person.name}
                        &lt;/li&gt;
                    )}
                &lt;/ol&gt;
            &lt;/div&gt;
        )
}
            </code></pre>
        </section>
        <section>
            <section>
                <h2>A stateful component</h2>
                Props are read-only, add state for data that should change
                <pre><code contenteditable class="javascript">
class ContactList extends React.Component {
    constructor(props) {
        super(props);
        this.state = {
            people: [{name: 'Michael'}, {name: 'Peter'}, {name: 'Tyler'}]
        };
    }

    render() {
        return (
            &lt;div&gt;
                &lt;ol&gt;
                    {this.state.people.map((person, index) =&gt;
                    &lt;li key={person.index}&gt;{person.name}&lt;/li&gt;
                    )}
                &lt;/ol&gt;
            &lt;/div&gt;
        )
    }
}

                </code></pre>
            </section>
            <section>
                <h2>setState</h2>
                Use <code>setState</code> to ensure UI refresh
                <pre><code class="javascript">
this.setState({
    username: 'Tyler'
})

this.setState((prevState) => ({
    count: prevState.count + 1
}))
                </code></pre>
            </section>
            <section>
                <h2>A stateful component</h2>
                <pre><code class="javascript" contenteditable>
class ContactList extends React.Component {
    constructor(props) {
        super(props);
        this.state = {
            people: [{name: 'Michael'}, {name: 'Peter'}, {name: 'Tyler'}]
        };
    }

    deletePerson(index) {
        if(this.state.people.length > 0) {
            this.setState((prevState) => ({
                people: prevState.people.filter((person, i) => i !== index )
            }))
        }
    }

    render() {
        return (
            &lt;div&gt;
                &lt;ol&gt;
                    {this.state.people.map((person, index) =&gt;
                        &lt;li key={person.index}&gt;
                        {person.name}
                        &lt;button onClick={() => this.deletePerson(person.index)}&gt;
                            Delete person
                        &lt;/button&gt;
                        &lt;/li&gt;
                    )}
                &lt;/ol&gt;
            &lt;/div&gt;
        )
    }
}

                </code></pre>
            </section>
        </section>
        <section>
            <h2>Create react app</h2>
            <pre><code class="nohighlight">
npm install -g create-react-app
create-react-app my-crazy-app-name
            </code></pre>
            <ul>
                <li>
                    react
                </li>
                <li>
                    react-dom: for rendering our components specifically for the DOM
                </li>
                <li>
                    react-scripts: webpack, webpack-dev-server, babel (transpiling latest JS and JSX)
                </li>
            </ul>
            <aside>
                create-react-app is een node package van facebook om een basic react app te scaffolden met minimale libraries.
                het installeert react, react-dom, ...
            </aside>
        </section>
        <section>
            <h2>Time to get our hands dirty</h2>
            <h3>Create a static grocery list</h3>
            <ul>
                <li>create-react-app</li>
                <li>Remove generated code in <code>App.js</code></li>
                <li>Create a <code>GroceryList</code> component that receives a list of groceries (props)</li>
                <li><code>GroceryList</code> should return JSX that displays the received list of groceries</li>
                <li>Add state (a list of groceries) to your <code>App.js</code>, add <code>GroceryList</code>
                    as a child of the <code>App</code> component, and pass it the list of groceries as an attribute</li>
                <li>Don't forget to add a <code>key</code> attribute to list items</li>
            </ul>
        </section>
        <section>
            <section>
                <h2>Forms</h2>

                <pre><code class="javascript">
handleSubmit = (e) => {
    e.preventDefault()
    // do something (change state, make REST call, etc.)
}

render() {
    return (
        &lt;form onSubmit={this.handleSubmit} className='create-contact-form'&gt;
            &lt;label for=&quot;name&quot;&gt; Name: &lt;/label&gt;
            &lt;input type=&quot;text&quot; id=&quot;name&quot;/&gt;
            &lt;input type=&quot;submit&quot; value=&quot;Submit&quot;/&gt;
        &lt;/form&gt;
    )
}
                </code></pre>
            </section>
            <section>
                <h2>Controlled components</h2>
                <pre><code class="javascript">
class NameForm extends Component {
    state = { email: ''}
    handleChange = (event) => {
        this.setState({email: event.target.value})
    }
    render() {
        return (
            &lt;input type=&quot;text&quot; value={this.state.email} onChange={this.handleChange}\&gt;
        );
    }
}
            </code></pre>
                <ul>
                    <li>Validation</li>
                    <li>Disabling submit</li>
                    <li>Require certain input format</li>
                    <li>...</li>
                    <li>"Single source of truth"</li>
                </ul>
                <aside class="notes">
                    Normaal gezien leeft form state in de DOM, en het kan zijn dat je het standaard form gedrag wilt behouden.
                    Maar dit wil zeggen dat je op submit naar een ander pagina gestuurd wordt en dat je niet veel flexibiliteit hebt.
                    <br />We kunnen meer flexibiliteit krijgen door de <strong>form state los te koppelen en te managen vanuit de applicatiei</strong>.
                    op die mannier kun je gemakkelijk bepalen wat te doen op submit, of uitgebreide validatie toevoegen, de submit knop disablen.
                    <br/><br/>Een van de belangrijkste redenen om deze loskoppeling te doen is om een single source of truth te hebben.
                    Op deze mannier wordt alle mutable component state op 1 plek bewaard en wordt de component enkel geupdate met de setState methode.
                    <br/><br/>Om dit te verkrijgen linken we de `value` van onze form aan de state. De enige mannier dat nu de `value` kan geupdate worden is als de state update! Daarom maken we ook een `onChange` handle die de state zal updaten
                </aside>
            </section>
        </section>
        <section>
            <h2>Lifting the state</h2>
            Often, several components need to reflect the same changing data.
            We recommend lifting the shared state up to their closest common ancestor.
            It's important to take into account the scope of <code>this</code>!
            <pre><code class="javascript">
class App extends Component {
    constructor(props) {
        super(props);
        this.state = {
            counter: 0
        };
    }

    addOne = () =&gt; {
        this.setState((prevState) =&gt; ({
            counter: prevState.counter + 1
        }))
    }

    render() {
        return (
            &lt;div&gt;
                {this.state.counter}
                &lt;ButtonComponent handleClick={this.addOne}/&gt;
            &lt;/div&gt;
        );
    }
}

class ButtonComponent extends React.Component {
    render() {
        return (
            &lt;button onClick={this.props.handleClick}&gt;Click me!&lt;/button&gt;
        )
    }
}
            </code></pre>
        </section>
        <section>
            <h2>Time to get our hands dirty - Pt. 2</h2>
            <ul>
                <li>Create a CreateGrocery component with a form (controlled component)</li>
                <li>Submitting the form should update the state of our <code>App.js</code></li>
                <li>Give the grocery item a unique <code>id</code> like the <code>Date.now()</code></li>
                <li>After submitting the input field should be cleared</li>
            </ul>
        </section>
        <section>
            <h2>For the strevers</h2>
            <ul>
                <li>Create a delete functionality</li>
                <li>Sort functionality</li>
                <li>...</li>
            </ul>
        </section>
        <!-- **********
            DO NOT REMOVE
        ********** -->
        <section style="text-align: left;">
            <h2>Thanks for watching!</h2>
            <p>Special thanks to Frédéric & Christophe for helping out 🔥🔥🔥</p>
        </section>

        <section style="text-align: left;" data-background="img/jworks-wallpaper-3.jpg"></section>
    </div>
</div>
<script src="js/reveal.js"></script>
<script>
    Reveal.initialize({
        transition: 'convex',
        dependencies: [
            // Cross-browser shim that fully implements classList - https://github.com/eligrey/classList.js/
            {
                src: 'lib/js/classList.js',
                condition: function () {
                    return !document.body.classList;
                }
            },
            // Interpret Markdown in <section> elements
            {
                src: 'plugin/markdown/marked.js',
                condition: function () {
                    return !!document.querySelector('[data-markdown]');
                }
            },
            {
                src: 'plugin/markdown/markdown.js',
                condition: function () {
                    return !!document.querySelector('[data-markdown]');
                }
            },
            // Syntax highlight for <code> elements
            {
                src: 'plugin/highlight/highlight.js',
                async: true,
                callback: function () {
                    hljs.initHighlightingOnLoad();
                }
            },
            // Zoom in and out with Alt+click
            {
                src: 'plugin/zoom-js/zoom.js',
                async: true
            },
            // Speaker notes
            {
                src: 'plugin/notes/notes.js',
                async: true
            }
        ]
    });
</script>
</body>

</html>
